Linking resources together

Связывание ресурсов вместе

API нашей пиццерии выглядит отлично. Заказы поступают как никогда раньше. Бизнес идет настолько хорошо, что мы решили
начать отслеживать клиентов заказов, чтобы оценивать их лояльность. Самый простой способ сделать это - добавить новый ресурс
- клиента.

Как и в случае с заказами, нашему ресурсу Клиент нужны конечные точки. Следуя соглашению, /customers и /customers/<id>
хорошо подходят. Опеустим детали, но скажем, что нужно решить, какие действия имеют смысл для каждой конечной точки и
какие данные представляют клиента. Преполагая, что мы все это сделаем, мы приходим к интересному вопросу: как
связать заказы с покупателями?

Практики REST разделились во мнениях о том, как решить проблему связывания ресурсов. Некоторые говорят, что иерархия
должна продолжать расти, давая конечные точки типа /customers/5/orders для всех заказов клиента №5. 
И /customers/5/orders/3 для третьего заказа клиента №5. Другие утверждают, что для упрощения
ситуации необходимо включать связанные детали в данные для ресурса. Согласно этой парадигме,
создание заказа требует отправки поля customer_id с деталями заказа. Оба решения широко
используются в REST API, поэтому стоит знать о каждом.
